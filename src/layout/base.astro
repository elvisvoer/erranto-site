---
import pkg from "../../package.json" assert { type: "json" };

const { class: clazz } = Astro.props;
---

<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Erranto - v{pkg.version}</title>

    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={pkg.description} />
    <meta name="author" content={pkg.author} />

    <link
      rel="preload"
      href="https://fonts.cdnfonts.com/css/inter"
      as="font"
      crossorigin
    />

    <script
      async
      defer
      src="https://analytics.umami.is/script.js"
      data-website-id="3e8f8c7e-de17-40c6-bc2e-5362a6cc6cf8"
      data-domains="erranto.com,erranto-site.vercel.app"></script>

    <script is:inline>
      if (
        localStorage.getItem("color-theme") === "dark" ||
        (!("color-theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    </script>
  </head>

  <body
    class:list={[
      //
      clazz,
      "h-full",
      "bg-white dark:bg-gray-900 antialiased",
      "flex flex-col",
    ]}
  >
    <slot />
  </body>
</html>

<script>
  import "flowbite";
</script>
